<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ë¡œë˜ ë²ˆí˜¸ ì¶”ì²œê¸° (6/45) - 5ì„¸íŠ¸</title>
  <meta name="description" content="ë²„íŠ¼ í•œ ë²ˆìœ¼ë¡œ 6/45 ë¡œë˜ ë²ˆí˜¸ 5ì„¸íŠ¸ë¥¼ ëœë¤ ì¶”ì²œí•©ë‹ˆë‹¤." />
  <style>
    :root {
      --bg-dark: #0b1220;
      --card-dark: #101a2f;
      --text-dark: #e8eefc;
      --muted-dark: #a8b3d6;
      --line-dark: rgba(255, 255, 255, .12);

      --bg-light: #f0f2f5;
      --card-light: #ffffff;
      --text-light: #1c1e21;
      --muted-light: #606770;
      --line-light: rgba(0, 0, 0, .1);

      --accent1: #6ee7ff;
      --accent2: #a78bfa;
    }

    body {
      --bg: var(--bg-dark);
      --card: var(--card-dark);
      --text: var(--text-dark);
      --muted: var(--muted-dark);
      --line: var(--line-dark);

      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1200px 800px at 15% 10%, rgba(110,231,255,.18), transparent 60%),
        radial-gradient(900px 700px at 85% 20%, rgba(167,139,250,.16), transparent 55%),
        linear-gradient(180deg, #070b14, var(--bg));
      line-height:1.6;
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px 14px;
    }

    body.light-mode {
      --bg: var(--bg-light);
      --card: var(--card-light);
      --text: var(--text-light);
      --muted: var(--muted-light);
      --line: var(--line-light);

      background: var(--bg-light);
    }

    .wrap{
      width:min(1000px, 100%);
    }
    .card{
      border:1px solid var(--line);
      background:var(--card);
      border-radius:22px;
      padding:22px;
      box-shadow: 0 16px 50px rgba(0,0,0,.25);
    }
    header{
      display:flex; align-items:center; justify-content:space-between;
      gap:12px; flex-wrap:wrap;
      padding-bottom:14px;
      border-bottom:1px solid var(--line);
      margin-bottom:16px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
    }
    .logo{
      width:34px; height:34px; border-radius:12px;
      background: linear-gradient(135deg, var(--accent1), var(--accent2));
      box-shadow: 0 10px 28px rgba(110,231,255,.15);
    }
    h1{
      margin:0; font-size:20px; letter-spacing:-.2px;
      color: var(--text);
    }
    .sub{
      margin:0; color:var(--muted); font-size:14px;
    }
    .btn-row{
      display:flex; gap:10px; flex-wrap:wrap;
    }
    button{
      cursor:pointer;
      border:1px solid var(--line);
      padding:10px 14px;
      border-radius:14px;
      background:rgba(255,255,255,.06);
      color:var(--text);
      font-weight:800;
      font-size:14px;
      display:inline-flex; gap:8px; align-items:center;
      transition: transform .12s ease, background .12s ease, filter .12s ease;
    }
    button:hover{
      transform: translateY(-1px); background:rgba(255,255,255,.10);
    }
    .primary{
      border:none;
      background: linear-gradient(135deg, var(--accent1), var(--accent2));
      color:#06101b;
    }
    .primary:hover{
      filter:brightness(1.02);
    }
    button:disabled{
      opacity:.6; cursor:not-allowed; transform:none;
    }

    body.light-mode button {
        background: rgba(0,0,0,.04);
    }

    body.light-mode button:hover {
        background: rgba(0,0,0,.08);
    }
    
    body.light-mode .primary {
        color: #06101b;
    }

    .content{
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap:14px;
      align-items:stretch;
    }
    .panel{
      border:1px solid var(--line);
      background:rgba(255,255,255,.04);
      border-radius:18px;
      padding:16px;
    }
    
    body.light-mode .panel {
        background: rgba(0,0,0,.02);
    }

    /* 5ì„¸íŠ¸ ì¶œë ¥ */
    .sets{
      display:grid;
      grid-template-columns: 1fr;
      gap:12px;
      margin-top:10px;
    }
    .set{
      border:1px solid var(--line);
      border-radius:16px;
      padding:12px;
      background:rgba(0,0,0,.12);
    }

    body.light-mode .set {
        background: rgba(0,0,0,.05);
    }

    .set-head{
      display:flex; justify-content:space-between; align-items:center;
      gap:10px; flex-wrap:wrap;
      margin-bottom:10px;
    }
    .set-title{
      font-weight:900; letter-spacing:-.2px;
      color: var(--text);
      font-size:14px;
    }
    .set-nums{
      color:var(--muted);
      font-size:13px;
    }
    .balls{
      display:flex; flex-wrap:wrap; gap:10px;
      min-height:54px;
      align-items:center;
    }

    /* ---- ë¡œë˜ ê³µ ìŠ¤íƒ€ì¼ (ìƒ‰ìƒ í¬í•¨) ---- */
    .ball{
      width:50px; height:50px;
      border-radius:999px;
      display:grid; place-items:center;
      font-weight:900;
      letter-spacing:-.3px;
      font-size:17px;
      user-select:none;
      animation: pop .22s ease;

      /* ê³µ ëŠë‚Œ */
      color: #08101a;
      border: 1px solid rgba(255,255,255,.22);
      box-shadow:
        inset 8px 10px 14px rgba(255,255,255,.35),
        inset -10px -12px 18px rgba(0,0,0,.25),
        0 10px 22px rgba(0,0,0,.30);
    }

    /* ì‹¤ì œ ë¡œë˜ êµ¬ê°„ ìƒ‰ê°(1â€“10 ë…¸ë‘ / 11â€“20 íŒŒë‘ / 21â€“30 ë¹¨ê°• / 31â€“40 íšŒìƒ‰ / 41â€“45 ì´ˆë¡) */
    .ball.yellow{
      background: radial-gradient(circle at 30% 28%, rgba(255,255,255,.75), rgba(255,255,255,0) 45%), #f6c343;
    }
    .ball.blue  {
      background: radial-gradient(circle at 30% 28%, rgba(255,255,255,.75), rgba(255,255,255,0) 45%), #3b82f6; color:#06101a;
    }
    .ball.red   {
      background: radial-gradient(circle at 30% 28%, rgba(255,255,255,.75), rgba(255,255,255,0) 45%), #ef4444; color:#06101a;
    }
    .ball.gray  {
      background: radial-gradient(circle at 30% 28%, rgba(255,255,255,.75), rgba(255,255,255,0) 45%), #9ca3af; color:#06101a;
    }
    .ball.green {
      background: radial-gradient(circle at 30% 28%, rgba(255,255,255,.75), rgba(255,255,255,0) 45%), #22c55e; color:#06101a;
    }

    @keyframes pop{
      from{ transform: translateY(4px) scale(.985); opacity:.6; }
      to{ transform: translateY(0) scale(1); opacity:1; }
    }

    .meta{
      display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap;
      color:var(--muted); font-size:13px;
      margin-top:12px;
    }

    .history{
      margin:0; padding-left:18px;
      color:var(--muted);
      font-size:14px;
      max-height: 300px;
      overflow:auto;
    }
    .history li{
      margin:8px 0;
    }
    .hint{
      margin:0; color:var(--muted); font-size:13px;
    }

    /* ìƒ‰ìƒ ì•ˆë‚´ */
    .legend{
      display:flex; flex-wrap:wrap; gap:8px;
      margin-top:10px;
    }
    .tag{
      display:inline-flex; gap:8px; align-items:center;
      border:1px solid var(--line);
      background: rgba(255,255,255,.06);
      padding:6px 10px;
      border-radius: 999px;
      font-size:12px;
      color: var(--muted);
    }

    body.light-mode .tag {
        background: rgba(0,0,0,.04);
    }

    .dot{
      width:10px; height:10px; border-radius:999px;
      border:1px solid rgba(255,255,255,.25);
      box-shadow: inset 2px 2px 4px rgba(255,255,255,.25);
    }
    .dot.yellow{
      background:#f6c343;
    }
    .dot.blue{
      background:#3b82f6;
    }
    .dot.red{
      background:#ef4444;
    }
    .dot.gray{
      background:#9ca3af;
    }
    .dot.green{
      background:#22c55e;
    }

    .toast{
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      background: var(--card);
      border:1px solid var(--line);
      color: var(--text);
      padding:10px 12px;
      border-radius: 14px;
      box-shadow: 0 18px 55px rgba(0,0,0,.35);
      opacity:0;
      pointer-events:none;
      transition: opacity .18s ease, transform .18s ease;
      font-size: 13px;
      z-index: 999;
    }
    .toast.show{
      opacity:1;
      transform: translateX(-50%) translateY(-2px);
    }

    @media (max-width: 900px){
      .content{
        grid-template-columns:1fr;
      }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <header>
        <div class="brand">
          <div class="logo" aria-hidden="true"></div>
          <div>
            <h1>ë¡œë˜ ë²ˆí˜¸ ì¶”ì²œê¸° (6/45) Â· 5ì„¸íŠ¸</h1>
            <p class="sub">â€œë²ˆí˜¸ ì¶”ì²œâ€ì„ ëˆ„ë¥´ë©´ 6ê°œ ë²ˆí˜¸ê°€ ë“¤ì–´ìˆëŠ” ì„¸íŠ¸ê°€ <b>í•œ ë²ˆì— 5ê°œ</b> ë‚˜ì™€ìš”.</p>
          </div>
        </div>
        <div class="btn-row">
          <button id="themeBtn" type="button">â˜€ï¸</button>
          <button class="primary" id="pickBtn" type="button">ğŸ² ë²ˆí˜¸ ì¶”ì²œ(5ì„¸íŠ¸)</button>
          <button id="copyBtn" type="button" disabled>ğŸ“‹ 5ì„¸íŠ¸ ë³µì‚¬</button>
          <button id="resetBtn" type="button">ğŸ”„ ê¸°ë¡ ì§€ìš°ê¸°</button>
        </div>
      </header>

      <div class="content">
        <section class="panel" aria-label="ì¶”ì²œ ë²ˆí˜¸ 5ì„¸íŠ¸">
          <h2 style="margin:0 0 6px; font-size:16px; letter-spacing:-.2px;">ì¶”ì²œ ë²ˆí˜¸</h2>
          <p class="hint" id="emptyHint">ì•„ì§ ë²ˆí˜¸ê°€ ì—†ì–´ìš”. â€œë²ˆí˜¸ ì¶”ì²œ(5ì„¸íŠ¸)â€ë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”.</p>

          <div class="sets" id="sets" aria-live="polite" aria-atomic="true"></div>

          <div class="legend" aria-label="ìƒ‰ìƒ êµ¬ê°„ ì•ˆë‚´">
            <span class="tag"><span class="dot yellow"></span>1â€“10</span>
            <span class="tag"><span class="dot blue"></span>11â€“20</span>
            <span class="tag"><span class="dot red"></span>21â€“30</span>
            <span class="tag"><span class="dot gray"></span>31â€“40</span>
            <span class="tag"><span class="dot green"></span>41â€“45</span>
          </div>

          <div class="meta">
            <span id="stamp">â€”</span>
            <span>ì„¸íŠ¸ ë‚´ë¶€ ë²ˆí˜¸ëŠ” ì¤‘ë³µ ì—†ì´ 6ê°œ(1~45)</span>
          </div>
        </section>

        <aside class="panel" aria-label="ì¶”ì²œ ê¸°ë¡">
          <h2 style="margin:0 0 10px; font-size:16px; letter-spacing:-.2px;">ì¶”ì²œ ê¸°ë¡</h2>
          <ol class="history" id="history"></ol>
          <p class="hint" style="margin-top:10px;">
            â€œ5ì„¸íŠ¸ ë³µì‚¬â€ëŠ” ë§ˆì§€ë§‰ìœ¼ë¡œ ìƒì„±í•œ 5ì„¸íŠ¸ë¥¼ í•œ ë²ˆì— ë³µì‚¬í•´ìš”.
          </p>
        </aside>
      </div>
    </div>
  </div>

  <div class="toast" id="toast" role="status" aria-live="polite"></div>

  <script>
    // ---------- Utilities ----------
    const $ = (id) => document.getElementById(id);

    function showToast(message) {
      const toast = $("toast");
      toast.textContent = message;
      toast.classList.add("show");
      window.clearTimeout(showToast._t);
      showToast._t = window.setTimeout(() => toast.classList.remove("show"), 1400);
    }

    function pad2(n){
      return String(n).padStart(2, "0");
    }
    function timeStamp() {
      const d = new Date();
      return `${d.getFullYear()}-${pad2(d.getMonth()+1)}-${pad2(d.getDate())} ${pad2(d.getHours())}:${pad2(d.getMinutes())}:${pad2(d.getSeconds())}`;
    }

    // ë¸Œë¼ìš°ì € crypto ê¸°ë°˜ ê· ë“± ë¶„í¬ì— ê°€ê¹Œìš´ ë‚œìˆ˜
    function randIntInclusive(min, max) {
      const range = max - min + 1;
      if (range <= 0) throw new Error("ì˜ëª»ëœ ë²”ìœ„");

      const maxUint32 = 0xFFFFFFFF;
      const limit = Math.floor((maxUint32 + 1) / range) * range;
      const buf = new Uint32Array(1);

      while (true) {
        crypto.getRandomValues(buf);
        const x = buf[0];
        if (x < limit) return min + (x % range);
      }
    }

    function pickOneSet() {
      const set = new Set();
      while (set.size < 6) set.add(randIntInclusive(1, 45));
      return Array.from(set).sort((a, b) => a - b);
    }

    function pickFiveSets() {
      return Array.from({ length: 5 }, () => pickOneSet());
    }

    // ë²ˆí˜¸ì— ë”°ë¥¸ ê³µ ìƒ‰ìƒ í´ë˜ìŠ¤ ë°˜í™˜
    function getBallColorClass(n) {
      if (n >= 1 && n <= 10) return "yellow";
      if (n >= 11 && n <= 20) return "blue";
      if (n >= 21 && n <= 30) return "red";
      if (n >= 31 && n <= 40) return "gray";
      return "green"; // 41~45
    }

    function renderFiveSets(sets) {
      const setsEl = $("sets");
      setsEl.innerHTML = "";

      sets.forEach((nums, idx) => {
        const wrap = document.createElement("div");
        wrap.className = "set";

        const head = document.createElement("div");
        head.className = "set-head";

        const title = document.createElement("div");
        title.className = "set-title";
        title.textContent = `ì„¸íŠ¸ ${idx + 1}`;

        const numsText = document.createElement("div");
        numsText.className = "set-nums";
        numsText.textContent = nums.join(", ");

        head.appendChild(title);
        head.appendChild(numsText);

        const balls = document.createElement("div");
        balls.className = "balls";

        nums.forEach((n) => {
          const ball = document.createElement("div");
          ball.className = `ball ${getBallColorClass(n)}`;
          ball.textContent = n;
          ball.title = `${n}ë²ˆ`;
          balls.appendChild(ball);
        });

        wrap.appendChild(head);
        wrap.appendChild(balls);
        setsEl.appendChild(wrap);
      });
    }

    function addHistory(sets, stamp) {
      const li = document.createElement("li");
      const lines = sets.map((nums, i) => `ì„¸íŠ¸ ${i + 1}: ${nums.join(", ")}`).join(" | ");
      li.textContent = `${stamp} Â· ${lines}`;
      $("history").prepend(li);
    }

    function formatForCopy(sets) {
      return sets.map((nums, i) => `ì„¸íŠ¸ ${i + 1}: ${nums.join(", ")}`).join("\n");
    }

    // ---------- State ----------
    let currentSets = null;

    // ---------- Events ----------
    $("pickBtn").addEventListener("click", () => {
      const sets = pickFiveSets();
      currentSets = sets;

      $("emptyHint")?.remove();
      renderFiveSets(sets);

      const stamp = timeStamp();
      $("stamp").textContent = `ì¶”ì²œ ì‹œê°: ${stamp}`;
      addHistory(sets, stamp);

      $("copyBtn").disabled = false;
      showToast("5ì„¸íŠ¸ë¥¼ ì¶”ì²œí–ˆì–´ìš”!");
    });

    $("copyBtn").addEventListener("click", async () => {
      if (!currentSets) return;

      const text = formatForCopy(currentSets);
      try {
        await navigator.clipboard.writeText(text);
        showToast("5ì„¸íŠ¸ë¥¼ ë³µì‚¬í–ˆì–´ìš”!");
      } catch (e) {
        try {
          const ta = document.createElement("textarea");
          ta.value = text;
          ta.style.position = "fixed";
          ta.style.left = "-9999px";
          document.body.appendChild(ta);
          ta.select();
          document.execCommand("copy");
          document.body.removeChild(ta);
          showToast("5ì„¸íŠ¸ë¥¼ ë³µì‚¬í–ˆì–´ìš”!");
        } catch (e2) {
          alert("ë³µì‚¬ ê¶Œí•œì´ ë§‰í˜€ ìˆì–´ìš”. ë¸Œë¼ìš°ì € ì„¤ì •ì—ì„œ í´ë¦½ë³´ë“œ ê¶Œí•œì„ í™•ì¸í•´ ì£¼ì„¸ìš”.");
        }
      }
    });

    $("resetBtn").addEventListener("click", () => {
      currentSets = null;
      $("sets").innerHTML = "";
      $("history").innerHTML = "";
      $("stamp").textContent = "â€”";
      $("copyBtn").disabled = true;

      const hint = document.createElement("p");
      hint.className = "hint";
      hint.id = "emptyHint";
      hint.textContent = 'ì•„ì§ ë²ˆí˜¸ê°€ ì—†ì–´ìš”. â€œë²ˆí˜¸ ì¶”ì²œ(5ì„¸íŠ¸)â€ë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”.';
      $("sets").insertAdjacentElement("beforebegin", hint);

      showToast("ê¸°ë¡ì„ ì§€ì› ì–´ìš”.");
    });

    const themeBtn = $("themeBtn");
    themeBtn.addEventListener("click", () => {
      document.body.classList.toggle("light-mode");
      const isLight = document.body.classList.contains("light-mode");
      themeBtn.textContent = isLight ? "ğŸŒ™" : "â˜€ï¸";
      try {
        localStorage.setItem('theme', isLight ? 'light' : 'dark');
      } catch (e) {}
    });

    try {
      const preferredTheme = localStorage.getItem('theme');
      if (preferredTheme === 'light') {
        document.body.classList.add("light-mode");
        themeBtn.textContent = "ğŸŒ™";
      }
    } catch (e) {}

  </script>
</body>
</html>